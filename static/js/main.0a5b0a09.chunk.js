(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(41),l=n.n(s),u=(n(54),n(5)),c=n.n(u),o=n(47),i=n(7),p=n(8),m=n(10),d=n(9),b=n(11),h=n(48),v=n(13),f=n(44),g=n(6),k=n(42),E=n.n(k),y=n(19),w=n.n(y),j=n(43),O=n.n(j);n(123);function C(){return N.apply(this,arguments)}function N(){return(N=Object(v.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("github_token")){e.next=3;break}return e.abrupt("return",{octokit:new w.a,status:"unauthenticated"});case 3:return n=void 0,a=new w.a({auth:"token ".concat(t)}),e.next=7,a.request("GET /").then(function(e){n={octokit:a,status:"authenticated"}}).catch(function(e){"HttpError"===e.name&&401===e.status&&(n={octokit:new w.a,status:"invalid-credentials"})});case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){var t=e.repository_url.split("/"),n=t.slice(t.length-2),a=Object(h.a)(n,2);return{owner:a[0],repo:a[1]}}function x(e){return F.apply(this,arguments)}function F(){return(F=Object(v.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,"closed"!==t.state&&(n="n/a"),e.abrupt("return",{url:t.url,labels:t.labels.map(function(e){return{color:e.color,name:e.name}}),progress:n,number:t.number,assignees:t.assignees});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return null===t?null:e.milestone&&e.milestone.due_on?void 0===t?new Date(e.milestone.due_on):Math.max(t,new Date(e.milestone.due_on)):null}function D(e){return"closed"===e.state?"done":"open"!==e.state||0!==e.assignees.length&&void 0!==e.assignee?"wip":"todo"}function I(e){var t=e.labels.map(function(e){return e.name});if(t.includes("bug")){for(var n=["p1","p2","p3"],a=0;a<n.length;a++){var r=n[a];if(t.includes(r))return"".concat(r,"bugs")}return"p1bugs"}return t.includes("feature")||t.includes("enhancement")?"issues":"others"}function L(e,t){return{label:e,repo:t,deliveryDate:void 0,todo:{issues:[],p1bugs:[],p2bugs:[],p3bugs:[],others:[]},wip:{issues:[],p1bugs:[],p2bugs:[],p3bugs:[],others:[]},done:{issues:[],p1bugs:[],p2bugs:[],p3bugs:[],others:[]}}}function A(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(c.a.mark(function e(t,n,a){var r,s,l,u,o,i,p,m,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=a.map(function(e){return"repo:"+e}).join(" ")+" label:"+n+" is:issue",s=t.search.issuesAndPullRequests.endpoint.merge({q:r}),l={},u=!0,o=!1,i=void 0,e.prev=6,p=a[Symbol.iterator]();!(u=(m=p.next()).done);u=!0)d=m.value,l[d]=L(n,d);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),o=!0,i=e.t0;case 14:e.prev=14,e.prev=15,u||null==p.return||p.return();case 17:if(e.prev=17,!o){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,t.paginate(s).then(function(){var e=Object(v.a)(c.a.mark(function e(t){var a,r,s,u,o,i,p,m,d,b,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,r=!1,s=void 0,e.prev=3,u=t[Symbol.iterator]();case 5:if(a=(o=u.next()).done){e.next=21;break}return i=o.value,p=T(i),m="".concat(p.owner,"/").concat(p.repo),d=l[m],b=D(i),h=I(i),e.t0=d[b][h],e.next=15,x(i);case 15:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),"done"!==b&&["issues","p1bugs"].includes(h)&&(d.deliveryDate=P(i,d.deliveryDate));case 18:a=!0,e.next=5;break;case 21:e.next=27;break;case 23:e.prev=23,e.t2=e.catch(3),r=!0,s=e.t2;case 27:e.prev=27,e.prev=28,a||null==u.return||u.return();case 30:if(e.prev=30,!r){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return e.abrupt("return",{label:n,repos:Object.values(l)});case 36:case"end":return e.stop()}},e,null,[[3,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}());case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}},e,null,[[6,10,14,22],[15,,17,21]])}))).apply(this,arguments)}var B=O.a.parse(window.location.search),_=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"calculatePercentCompleted",value:function(e){var t=["issues","p1bugs"],n=t.map(function(t){return e.done[t].length}).reduce(function(e,t){return e+t}),a=t.map(function(t){return e.todo[t].length+e.wip[t].length+e.done[t].length}).reduce(function(e,t){return e+t},0);return 0===a?"~":(n/a*100).toFixed(0)}},{key:"getAssigneesFilter",value:function(e){var t=Object(o.a)(new Set(e.map(function(e){return e.assignees.map(function(e){return e.login})}).reduce(function(e,t){return e.concat(t)},[]))).map(function(e){return"assignee:".concat(e)}).join("+");return t||(t="no:assignee"),t}},{key:"makeLink",value:function(e,t,n,a){if(0===a.length)return r.a.createElement("span",null,"0");n||(n=[]);var s=!1;n.includes("assignee:*")&&(n=n.filter(function(e){return"assignee:*"!==e}),s=!0),n.push("label:".concat(t));var l=n.join("+"),u="";if(s){var c=this.getAssigneesFilter(a);u="https://github.com/search?utf8=%E2%9C%93&q=repo%3A".concat(e,"+").concat(l,"+").concat(c,"&type=Issues&ref=advsearch&l=&l=+")}else u="https://github.com/".concat(e,"/issues?utf8=%E2%9C%93&q=").concat(l);var o=a.map(function(e){return"#".concat(e.number)}).reduce(function(e,t){return e.concat(t)},[]);return r.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer",title:o.join("\n")},o.length)}},{key:"render",value:function(){var e=this.props.repoFeature;return r.a.createElement("div",{className:"FeatureTag-Row"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/".concat(e.repo,"/issues")},e.repo)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","no:assignee","label:feature"],e.todo.issues)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","assignee:*","label:feature"],e.wip.issues)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:closed","label:feature"],e.done.issues)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","no:assignee","label:bug","-label:p2","-label:p3","-label:p4","-label:p5"],e.todo.p1bugs)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","no:assignee","label:bug","label:p2"],e.todo.p2bugs)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","no:assignee","label:bug","label:p3"],e.todo.p3bugs)),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open","assignee:*","label:bug"],e.wip.p1bugs.concat(e.wip.p2bugs).concat(e.wip.p3bugs))),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:closed","label:bug"],e.done.p1bugs.concat(e.done.p2bugs).concat(e.done.p3bugs))),r.a.createElement("div",null,this.makeLink(e.repo,e.label,["is:open"].concat(e.todo.others.concat(e.wip.others).map(function(e){return e.number})),e.todo.others.concat(e.wip.others))),r.a.createElement("div",{className:e.deliveryDate?"":"NoDate"},e.deliveryDate?E()(e.deliveryDate,"yyyy-mm-dd"):"n/a"),r.a.createElement("div",{className:"Completed"},this.calculatePercentCompleted(e),"%"))}}]),t}(a.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleClick",value:function(e){e.preventDefault();var t=prompt("Personal github token",localStorage.getItem("github_token")||"");null!==t&&(localStorage.setItem("github_token",t),window.location.reload())}},{key:"render",value:function(){return r.a.createElement("div",{className:"TokenInput ".concat(this.props.status),onClick:this.handleClick,title:"unauthenticated"===this.props.status?"Add a personal GitHub token to raise the limit of requests you can make to the API":"invalid-credentials"===this.props.status?"Your github token is invalid (fell back to unauthenticated access)":""},"unauthenticated"===this.props.status?"Add ":"","Personal GitHub Token")}}]),t}(a.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"calculatePercentCompleted",value:function(e){var t=["issues","p1bugs"],n=0,a=0,r=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value;n+=t.map(function(t){return e.done[t].length}).reduce(function(e,t){return e+t}),a+=t.map(function(t){return e.todo[t].length+e.wip[t].length+e.done[t].length}).reduce(function(e,t){return e+t},0)},o=e.repos[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)c()}catch(i){s=!0,l=i}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}return 0===a?"~":(n/a*100).toFixed(0)}},{key:"render",value:function(){var e=this.props.feature.repos.map(function(e){return r.a.createElement(_,{repoFeature:e,key:e.repo})});return r.a.createElement("div",{className:"FeatureTag"},r.a.createElement("div",{className:"FeatureTag-Header"},r.a.createElement("div",{className:"Label"},this.props.feature.label),r.a.createElement("div",{className:"PercentComplete"},this.calculatePercentCompleted(this.props.feature),"%")),r.a.createElement("div",{className:"FeatureTag-Table"},r.a.createElement("div",{className:"FeatureTag-Column"}),r.a.createElement("div",{className:"FeatureTag-Column Implementation"}),r.a.createElement("div",{className:"FeatureTag-Column Implementation"}),r.a.createElement("div",{className:"FeatureTag-Column Implementation"}),r.a.createElement("div",{className:"FeatureTag-Column Bugs"}),r.a.createElement("div",{className:"FeatureTag-Column Bugs"}),r.a.createElement("div",{className:"FeatureTag-Column Bugs"}),r.a.createElement("div",{className:"FeatureTag-Column Bugs"}),r.a.createElement("div",{className:"FeatureTag-Column Bugs"}),r.a.createElement("div",{className:"FeatureTag-Column"}),r.a.createElement("div",{className:"FeatureTag-Column"}),r.a.createElement("div",{className:"FeatureTag-Column"}),r.a.createElement("div",{className:"FeatureTag-Row FeatureTag-TableHeader"},r.a.createElement("div",null,"Repo"),r.a.createElement("div",null,r.a.createElement("span",{className:"MetaTitleHolder"},r.a.createElement("span",{className:"MetaTitle"},"Planned Work")),"Todo"),r.a.createElement("div",null,"WIP"),r.a.createElement("div",null,"Done"),r.a.createElement("div",null,r.a.createElement("span",{className:"MetaTitleHolder"},r.a.createElement("span",{className:"MetaTitle"},"Bugs")),"P1"),r.a.createElement("div",null,"P2"),r.a.createElement("div",null,"P3"),r.a.createElement("div",null,"WIP"),r.a.createElement("div",null,"Fixed"),r.a.createElement("div",null,"Other"),r.a.createElement("div",null,"Delivery"),r.a.createElement("div",null)),e),r.a.createElement(H,{status:this.props.connection.status}))}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this))).state={feature:{label:"Loading...",repos:[]},connection:{octokit:void 0,status:"connecting"}},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,this.setState({connection:t}),Array.isArray(B.repo)||(B.repo=[B.repo]),document.title=B.label,e.next=8,A(t.octokit,B.label,B.repo);case 8:n=e.sent,this.setState({feature:n});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,{feature:this.state.feature,connection:this.state.connection}))}}]),t}(a.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"I'm... a detailed plan.")}}]),t}(a.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(g.a,{path:"/",exact:!0,component:M}),r.a.createElement(g.a,{path:"/summary",component:M}),r.a.createElement(g.a,{path:"/plan",component:W}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,n){e.exports=n(132)},54:function(e,t,n){}},[[49,1,2]]]);
//# sourceMappingURL=main.0a5b0a09.chunk.js.map