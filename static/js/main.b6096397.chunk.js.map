{"version":3,"sources":["Github.js","components/Fail.js","components/TokenInput.js","components/Plan.js","components/Summary.js","components/Burndown.js","App.js","serviceWorker.js","index.js"],"names":["Github","token","octokit","Octokit","status","connection","undefined","auth","request","then","_","catch","e","name","issue","options","issues","listComments","endpoint","merge","owner","repo","number","paginate","comments","map","comment","body","unshift","join","split","completed","filter","trim","toLowerCase","startsWith","length","outstanding","labels","searchRepos","query","project","graphql","headers","authorization","console","log","searchString","label","search","issuesAndPullRequests","q","githubIssues","Issue","githubIssue","this","url","html_url","color","progress","title","assignees","components","repository_url","slice","type","getType","state","getState","includes","priority","assignee","Fail","Array","props","location","pathname","match","Component","TokenInput","preventDefault","prompt","localStorage","getItem","setItem","window","reload","className","onClick","handleClick","IssueTree","categories","items","renderItem","sort","sortItems","item","unbucketed","headings","Set","buckets","forEach","heading","unbucketedItems","Object","values","reduce","array","value","concat","keys","bucket","key","Plan","phases","a","b","Number","repos","push","indexOf","href","target","rel","some","renderLabel","states","connectionStatus","template","deliveryDate","todo","p1bugs","p2bugs","p3bugs","others","wip","done","establishDeliveryDate","milestone","due_on","Date","Math","max","SummaryRow","repoFeature","counted","total","toFixed","login","advanced","queryString","searchUrl","assigneesFilter","getAssigneesFilter","issueNumbers","x","makeLink","dateFormat","calculatePercentCompleted","Summary","feature","generateSummary","rows","FILL_COLORS","LINE_COLORS","Burndown","dates","openIssueCounts","closedIssueDeltas","today","tomorrow","setDate","getDate","threeMonthsAgo","setMonth","getMonth","displayedIssues","date","min","created_at","day","datasets","index","start","end","closed_at","n","data","lineTension","backgroundColor","closedDate","rateSamplingDays","closedIssuesOverSamplingDays","i","closeRate","todaysDate","elapsedDays","previousBucketRemainingDays","previousBucketFractionalDays","todaysIssues","remainingDays","Infinity","lastDate","projection","ceil","pointRadius","borderColor","borderWidth","scales","yAxes","stacked","ticks","App","onHashChange","hash","previousQuery","parseQueryFromHash","JSON","stringify","getConnection","setState","document","getIssues","path","parse","substring","isArray","onChange","routes","component","render","exact","RedirectLegacy","to","pathWithQuery","replace","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b6096397.chunk.js","sourcesContent":["/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport Octokit from '@octokit/rest';\nimport graphql from '@octokit/graphql';\n\nclass Github {\n\n    static async getConnection(token) {\n        if (!token) {\n            return {\n                octokit: new Octokit(),\n                status: 'unauthenticated'\n            }\n        }\n\n        let connection = undefined;\n\n        let octokit = new Octokit({\n            auth: `token ${token}`\n        });\n        await octokit.request('GET /')\n            .then(_ => {\n                connection = {\n                    octokit: octokit,\n                    status: 'authenticated'\n                }\n            })\n            .catch(e => {\n                if (e.name === 'HttpError' && e.status === 401) {\n                    connection = {\n                        octokit: new Octokit(),\n                        status: 'invalid-credentials'\n                    }\n                }\n            });\n\n        return connection;\n    }\n\n    static async getTaskCount(octokit, issue) {\n        let options = octokit.issues.listComments.endpoint.merge({\n            owner: issue.owner,\n            repo: issue.repo,\n            number: issue.number\n        });\n        let comments = await octokit.paginate(options);\n        comments = comments.map(comment => comment.body);\n        comments.unshift(issue.body);\n        comments = comments.join(\"\\n\").split(/\\r?\\n/)\n        let completed = comments.filter(comment => comment.trim().toLowerCase().startsWith('- [x]')).length;\n        let outstanding = comments.filter(comment => comment.trim().startsWith('- [ ]')).length;\n        return {\n            completed: completed,\n            outstanding: outstanding\n        }\n    }\n\n    static async getFullIssues(labels, searchRepos) {\n        const query = `\n            query issueBodiesOverTime($owner: String!, $project: String!, $labels: [String!]!) {\n                repository(owner: $owner, name: $project) {\n                    issues(first: 100, labels: $labels) {\n                        edges {\n                            cursor\n                            node {\n                                number\n                                body\n                                userContentEdits(first: 100) {\n                                    edges {\n                                        node {\n                                            editedAt\n                                            diff\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }`\n        for (const repo of searchRepos) {\n            let [owner, project] = repo.split('/');\n            let issues = await graphql(query, {\n                headers: {\n                    authorization: \"token f3b7ff551d31170bef759d1a6889ee62ce5b3a83\"\n                },\n                owner: owner,\n                project: project,\n                labels: labels\n            });\n            console.log(issues);\n        }\n    }\n\n    static async getIssues(octokit, labels, searchRepos) {\n        let searchString = searchRepos.map(repo => 'repo:' + repo)\n            .join(' ') + ' ' + labels.map(label => `label:${label}`).join(' ');\n\n        const options = octokit.search.issuesAndPullRequests.endpoint.merge({\n            q: searchString\n        });\n\n        let githubIssues = await octokit.paginate(options);\n\n        return githubIssues.map(issue => new Issue(issue));\n    }\n\n}\n\nclass Issue {\n\n    constructor(githubIssue) {\n\n        this.githubIssue = githubIssue;\n        this.url = githubIssue.html_url;\n        this.labels = githubIssue.labels.map(label => {\n            return {\n                color: label.color,\n                name: label.name\n            }\n        });\n        this.progress = undefined;\n        this.title = githubIssue.title;\n        this.number = githubIssue.number;\n        this.assignees = githubIssue.assignees;\n\n        let components = githubIssue.repository_url.split('/');\n        [this.owner, this.repo] = components.slice(components.length - 2);\n\n        this.type = Issue.getType(githubIssue);\n        this.state = Issue.getState(githubIssue);\n\n    }\n\n    static getType(githubIssue) {\n        let labels = githubIssue.labels.map(label => label.name);\n        if (labels.includes('bug')) {\n            for (const priority of ['p1', 'p2', 'p3']) {\n                if (labels.includes(priority)) {\n                    return `${priority}bugs`;\n                }\n            }\n            return `p1bugs`; // If the bug isn't prioritised, counting it as P1 will encourage\n                             // prioritisation.\n        }\n        else if (labels.includes('feature') || labels.includes('enhancement')) {\n            return 'issues';\n        }\n        return 'others';\n    }\n\n    static getState(githubIssue) {\n        if (githubIssue.state === 'closed') {\n            return 'done';\n        }\n        else if (\n            githubIssue.assignees.length === 0 ||\n            githubIssue.assignee === undefined\n        ) {\n            return 'todo';\n        }\n        else {\n            return 'wip';\n        }\n    }\n\n}\n\nexport default Github;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\n\nclass Fail extends Component {\n\n    render() {\n        return (\n            <pre>\n                {`\n    ▄██████████████▄▐█▄▄▄▄█▌\n    ██████▌▄▌▄▐▐▌███▌▀▀██▀▀\n    ████▄█▌▄▌▄▐▐▌▀███▄▄█▌\n    ▄▄▄▄▄██████████████\n\n    What is a \"`}\n            { Array.join(\n                this.props.location.pathname.match(/.{1,36}/g),\n                '\\n                       ')\n            }\"?\n            </pre>\n        );\n    }\n}\n\nexport default Fail;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\n\nclass TokenInput extends Component {\n\n    handleClick(e) {\n        e.preventDefault();\n        let token = prompt('Personal github token', localStorage.getItem('github_token') || '');\n        if (token !== null) {\n            localStorage.setItem('github_token', token);\n            window.location.reload();\n        }\n    }\n\n    render() {\n        return (\n            <div className={ `TokenInput ${this.props.status}` } \n                onClick={ this.handleClick }\n                title={\n                    this.props.status === 'unauthenticated' ? 'Add a personal GitHub token to raise the limit of requests you can make to the API' :\n                    this.props.status === 'invalid-credentials' ? 'Your github token is invalid (fell back to unauthenticated access)' : 'Successfully connecting using personal GitHub token'\n                }>\n                { this.props.status === 'unauthenticated' ? 'Add ' : '' }Personal GitHub Token\n            </div>\n        );\n    }\n\n}\n\nexport default TokenInput;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\n\nimport TokenInput from './TokenInput';\n\nclass IssueTree extends Component {\n\n    render() {\n        let categories = this.props.categories;\n        let items = this.props.items;\n        let renderItem = this.props.renderItem;\n\n        if (categories.length === 0) {\n            return (\n                <ul>\n                    { items.sort(this.props.sortItems).map(item => renderItem(item)) }\n                </ul>\n            );\n        }\n\n        let { label, sort, unbucketed } = categories[0];\n\n        let headings = [...new Set(items.filter(label).map(label))].sort(sort);\n\n        let buckets = {};\n        headings.forEach(heading => {\n            buckets[heading] = items.filter(item => label(item) === heading);\n        });\n\n        // If we're interested in issues that weren't matched by the filter,\n        // throw them into an 'unbucketed' category.\n        if (unbucketed) {\n            let unbucketedItems = items.filter(item =>\n                !Object.values(buckets).reduce((array, value) => {\n                    return array.concat(value);\n                }, []).includes(item));\n\n            if (unbucketedItems.length > 0) {\n                buckets[unbucketed] = unbucketedItems;\n            }\n        }\n\n        return (\n            Object.keys(buckets).map(bucket => {\n                if (buckets[bucket].length > 0) {\n                    return (\n                        <ul key={ bucket }>\n                            <li className=\"heading\">{ bucket }\n                                <IssueTree\n                                    categories={ categories.slice(1) }\n                                    items={ buckets[bucket] }\n                                    renderItem={ renderItem }\n                                    sortItems={ this.props.sortItems }\n                                />\n                            </li>\n                        </ul>\n                    )\n                }\n                else return null;\n            })\n        );\n    }\n}\n\n\nclass Plan extends Component {\n\n    render() {\n        let categories = [\n            {\n                label: issue => {\n                    let phases = issue.labels.filter(label => label.name.startsWith('phase:'));\n                    if (phases.length > 0) {\n                        return phases[0].name;\n                    }\n                    else return null;\n                },\n                sort: (a, b) => {\n                    return Number(a.split(\":\")[1]) - Number(b.split(\":\")[1]);\n                },\n                unbucketed: 'unphased'\n            }\n        ];\n        if (this.props.repos.length > 1) {\n            categories.push({\n                label: issue => issue.owner + '/' + issue.repo,\n                sort: (a, b) => {\n                    // Preserve repo ordering as entered by user\n                    const ai = this.props.repos.indexOf(a);\n                    const bi = this.props.repos.indexOf(b);\n                    return ai - bi;\n                },\n            });\n        }\n        let renderLabel = (issue, label) => {\n            if (!issue.labels.some(({ name }) => name === label)) {\n                return null;\n            }\n            return <span className={'label ' + label}>\n                {` (${label})`}\n            </span>;\n        };\n        let renderItem = issue => {\n            return (\n                <li className={`task ${issue.state}`} key={ issue.number }>\n                    <a href={ issue.url } target=\"_blank\" rel=\"noopener noreferrer\" >{ `${issue.number} ${issue.title}` }</a>\n                    <span className={ 'state ' + issue.state }>\n                        { issue.state === 'done' ? ' (done)' : issue.state === 'wip' ? ' (in progress)' : '' }\n                    </span>\n                    { renderLabel(issue, 'blocked') }\n                </li>\n            );\n        };\n\n        let sortItems = (a, b) => {\n            let states = ['done', 'wip', 'todo'];\n            if (a.state !== b.state) {\n                return states.indexOf(a.state) - states.indexOf(b.state);\n            }\n            return a.number - b.number;\n        };\n\n        return (\n            <div className=\"Plan raised-box\">\n                <p className=\"query-labels\">{ this.props.labels.join(' ') }</p>\n                <IssueTree\n                    categories={ categories }\n                    items={ this.props.issues }\n                    renderItem={ renderItem }\n                    sortItems={ sortItems }\n                />\n                <TokenInput status={ this.props.connectionStatus }/>\n            </div>\n        )\n\n    }\n}\n\nexport default Plan;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport dateFormat from 'dateformat';\n\nimport TokenInput from './TokenInput';\n\nfunction template(labels, repo) {\n    return {\n        labels: labels,\n        repo: repo,\n        deliveryDate: undefined,\n        todo: {\n            issues: [],\n            p1bugs: [],\n            p2bugs: [],\n            p3bugs: [],\n            others: []\n        },\n        wip: {\n            issues: [],\n            p1bugs: [],\n            p2bugs: [],\n            p3bugs: [],\n            others: []\n        },\n        done: {\n            issues: [],\n            p1bugs: [],\n            p2bugs: [],\n            p3bugs: [],\n            others: []\n        }\n    };\n}\n\nfunction establishDeliveryDate(issue, deliveryDate) {\n    if (deliveryDate === null) {\n        return null;\n    }\n    else if (issue.milestone && issue.milestone.due_on) {\n        if (deliveryDate === undefined) {\n            return new Date(issue.milestone.due_on);\n        }\n        else {\n            return Math.max(deliveryDate, new Date(issue.milestone.due_on));\n        }\n    }\n    else {\n        return null;\n    }\n}\n\n\nfunction generateSummary(issues, labels, searchRepos) { \n    const repos = {};\n    for (const repo of searchRepos) {\n        repos[repo] = template(labels, repo);\n    }\n\n    for (const issue of issues) {\n        const repoName = `${issue.owner}/${issue.repo}`\n        const repo = repos[repoName];\n\n        repo[issue.state][issue.type].push(issue);\n        if (issue.state !== 'done' && ['issues', 'p1bugs'].includes(issue.type)) {\n            repo.deliveryDate = establishDeliveryDate(issue, repo.deliveryDate);\n        }\n\n    }\n    return {\n        labels: labels,\n        repos: Object.values(repos)\n    }\n}\n\n\nclass SummaryRow extends Component {\n    calculatePercentCompleted(repoFeature) {\n        let counted = ['issues', 'p1bugs'];\n\n        let completed = counted.map(type => repoFeature.done[type].length).reduce((a, b) => a + b);\n        let total = counted.map(type =>\n            repoFeature.todo[type].length +\n            repoFeature.wip[type].length +\n            repoFeature.done[type].length).reduce((a, b) => a + b, 0);\n\n        if (total === 0) {\n            return '~';\n        }\n        return (completed / total * 100).toFixed(0);\n    }\n\n    getAssigneesFilter(issues) {\n        let filter = [...new Set(issues.map(issue => issue.assignees.map(assignee => assignee.login))\n            .reduce((a, b) => a.concat(b), []))]\n            .map(assignee => `assignee:${assignee}`)\n            .join('+');\n        if (!filter) {\n            filter = 'no:assignee';\n        }\n        return filter;\n    }\n\n    makeLink(repo, labels, q, issues) {\n        if (issues.length === 0) {\n            return (\n                <span>0</span>\n            );\n        }\n        if (!q) {\n            q = []\n        }\n        let advanced = false;\n\n        if (q.includes('assignee:*')) {\n            /* If the list of labels includes ['assignee', '*'], we'll strip it from the\n             * list and implement our search link using github's _advanced_ search\n             * functionality instead. This is because assignee:* doesn't reliably work\n             * with regular search (or advanced), so instead we have to apply the other\n             * search criteria _and_ a list of assignee:x where x all the assignees of\n             * all the issues which have assignees. Is that clear? Good, great. */\n            q = q.filter(item => item !== 'assignee:*')\n            advanced = true;\n        }\n        q = q.concat(labels.map(label => `label:${label}`));\n\n        let queryString = q.join('+');\n\n        let searchUrl = \"\";\n        if (advanced) {\n            let assigneesFilter = this.getAssigneesFilter(issues);\n            searchUrl = `https://github.com/search?utf8=%E2%9C%93&q=repo%3A${repo}+${queryString}+${assigneesFilter}&type=Issues&ref=advsearch&l=&l=+`;\n        }\n        else {\n            searchUrl = `https://github.com/${repo}/issues?utf8=%E2%9C%93&q=${queryString}`;\n        }\n\n        let issueNumbers = issues.map(x => `#${x.number} ${x.title}`).reduce((a, b) => a.concat(b), []);\n        return (\n            <a href={ searchUrl } target=\"_blank\" rel=\"noopener noreferrer\" title={ issueNumbers.join(\"\\n\") }>\n                { issueNumbers.length }\n            </a>\n        );\n    }\n\n    render() {\n        let repoFeature = this.props.repoFeature;\n\n        return (\n            <div className=\"Summary-Row\">\n                <div><a href={ `https://github.com/${ repoFeature.repo }/issues` }>{ repoFeature.repo }</a></div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'no:assignee',\n                            'label:feature'\n                        ],\n                        repoFeature.todo.issues\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'assignee:*',\n                            'label:feature'\n                        ],\n                        repoFeature.wip.issues\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:closed',\n                            'label:feature'\n                        ],\n                        repoFeature.done.issues\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'no:assignee',\n                            'label:bug',\n                            '-label:p2', /* Any bug not flagged as p2-5 is p1 */\n                            '-label:p3', /* This is weird, but encourages the triaging */\n                            '-label:p4', /* of unprioritised bugs. */\n                            '-label:p5'\n                        ],\n                        repoFeature.todo.p1bugs\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'no:assignee',\n                            'label:bug',\n                            'label:p2'\n                        ],\n                        repoFeature.todo.p2bugs\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'no:assignee',\n                            'label:bug',\n                            'label:p3'\n                        ],\n                        repoFeature.todo.p3bugs\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:open',\n                            'assignee:*',\n                            'label:bug'\n                        ],\n                        repoFeature.wip.p1bugs.concat(repoFeature.wip.p2bugs).concat(repoFeature.wip.p3bugs)\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        [\n                            'is:closed',\n                            'label:bug'\n                        ],\n                        repoFeature.done.p1bugs.concat(repoFeature.done.p2bugs).concat(repoFeature.done.p3bugs)\n                    )\n                }</div>\n                <div>{\n                    this.makeLink(\n                        repoFeature.repo,\n                        repoFeature.labels,\n                        ['is:open'].concat(repoFeature.todo.others.concat(repoFeature.wip.others).map(issue => issue.number)),\n                        repoFeature.todo.others.concat(repoFeature.wip.others)\n                    )\n                }</div>\n                <div className={ repoFeature.deliveryDate ? \"\" : \"NoDate\" }>{ repoFeature.deliveryDate ?\n                        dateFormat(repoFeature.deliveryDate, 'yyyy-mm-dd') :\n                    'n/a' }</div>\n                <div className=\"Completed\">{ this.calculatePercentCompleted(repoFeature) }%</div>\n            </div>\n        );\n    }\n}\n\nclass Summary extends Component {\n    calculatePercentCompleted(feature) {\n        let counted = ['issues', 'p1bugs'];\n\n        let completed = 0;\n        let total = 0;\n\n        for (const repoFeature of feature.repos) {\n            completed += counted.map(type => repoFeature.done[type].length).reduce((a, b) => a + b);\n            total += counted.map(type => \n                repoFeature.todo[type].length +\n                repoFeature.wip[type].length +\n                repoFeature.done[type].length).reduce((a, b) => a + b, 0);\n        }\n\n        if (total === 0) {\n            return \"~\";\n        }\n        return (completed / total * 100).toFixed(0);\n    }\n\n    render() {\n        let feature = generateSummary(\n            this.props.issues,\n            this.props.labels,\n            this.props.repos\n        );\n\n        let rows = feature.repos.map(repo => <SummaryRow repoFeature={ repo }\n            key={ repo.repo } />\n        );\n\n        return (\n            <div className=\"Summary raised-box\">\n                <div className=\"Summary-Header\">\n                    <div className=\"Label\">{ feature.labels.join(' ') }</div>\n                    <div className=\"PercentComplete\">{ this.calculatePercentCompleted(feature) }%</div>\n                </div>\n                <div className=\"Summary-Table\">\n                    <div className=\"Summary-Column\"></div>\n                    <div className=\"Summary-Column Implementation\"></div>\n                    <div className=\"Summary-Column Implementation\"></div>\n                    <div className=\"Summary-Column Implementation\"></div>\n                    <div className=\"Summary-Column Bugs\"></div>\n                    <div className=\"Summary-Column Bugs\"></div>\n                    <div className=\"Summary-Column Bugs\"></div>\n                    <div className=\"Summary-Column Bugs\"></div>\n                    <div className=\"Summary-Column Bugs\"></div>\n                    <div className=\"Summary-Column\"></div>\n                    <div className=\"Summary-Column\"></div>\n                    <div className=\"Summary-Column\"></div>\n                    <div className=\"Summary-Row Summary-TableHeader\">\n                        <div>Repo</div>\n                        <div><span className=\"MetaTitleHolder\"><span className=\"MetaTitle\">Planned Work</span></span>Todo</div>\n                        <div>WIP</div>\n                        <div>Done</div>\n                        <div><span className=\"MetaTitleHolder\"><span className=\"MetaTitle\">Bugs</span></span>P1</div>\n                        <div>P2</div>\n                        <div>P3</div>\n                        <div>WIP</div>\n                        <div>Fixed</div>\n                        <div>Other</div>\n                        <div>Delivery</div>\n                        <div></div>\n                    </div>\n                    { rows }\n                </div>\n                <TokenInput status={ this.props.connectionStatus }/>\n            </div>\n        );\n    }\n}\n\nexport default Summary;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\n\nimport dateFormat from 'dateformat';\nimport { Line } from 'react-chartjs-2';\n\nconst FILL_COLORS = [\n    'rgba(0, 40, 0, 0.2)',\n    'rgba(40, 0, 0, 0.2)',\n    'rgba(0, 0, 40, 0.2)',\n    'rgba(40, 40, 0, 0.2)',\n    'rgba(0, 40, 40, 0.2)',\n    'rgba(40, 0, 40, 0.2)',\n];\n\nconst LINE_COLORS = [\n    'rgba(0, 40, 0, 0.5)',\n    'rgba(40, 0, 0, 0.5)',\n    'rgba(0, 0, 40, 0.5)',\n    'rgba(40, 40, 0, 0.5)',\n    'rgba(0, 40, 40, 0.5)',\n    'rgba(40, 0, 40, 0.5)',\n];\n\nclass Burndown extends Component {\n\n    render() {\n        let { issues } = this.props;\n\n        if (issues.length === 0) {\n            return (\n                <div className=\"Burndown raised-box\">\n                    <h3>Loading data...</h3>\n                </div>\n            );\n        }\n\n        // Attempt to bucket issues by phase\n        // TODO: Extract this out as a generic issue categoriser\n        let label = issue => {\n            let phases = issue.labels.filter(label => label.name.startsWith('phase:'));\n            if (phases.length > 0) {\n                return phases[0].name;\n            }\n            return null;\n        };\n        let sort = (a, b) => {\n            return Number(a.split(\":\")[1]) - Number(b.split(\":\")[1]);\n        };\n\n        let headings = [...new Set(issues.filter(label).map(label))].sort(sort);\n        let buckets = {};\n        if (headings.length > 0) {\n            headings.forEach(heading => {\n                buckets[heading] = issues.filter(item => label(item) === heading);\n            });\n        } else {\n            buckets['unphased'] = issues;\n        }\n\n        let dates = [];\n        let openIssueCounts = {};\n        let closedIssueDeltas = {};\n\n        // Initialise dates array and issue count per day for all relevant dates\n        // Start at from creation time of the earliest issue by default\n        // Limit to three months at most\n        // TODO: URL param for custom start date?\n        let today = new Date();\n        let tomorrow = new Date().setDate(today.getDate() + 1);\n        let threeMonthsAgo = new Date().setMonth(today.getMonth() - 3);\n        let displayedIssues = Object.values(buckets).reduce((array, value) => {\n            return array.concat(value);\n        });\n        let date = new Date(\n            Math.max(\n                Math.min(\n                    ...displayedIssues.map(issue => new Date(issue.githubIssue.created_at))\n                ),\n                threeMonthsAgo\n            )\n        );\n        while (date < tomorrow) {\n            let day = dateFormat(date, 'yyyy-mm-dd');\n            dates.push(day);\n            openIssueCounts[day] = {};\n            closedIssueDeltas[day] = 0;\n            date.setDate(date.getDate() + 1);\n        }\n\n        let datasets = [];\n\n        // Create a dataset for each bucket\n        Object.keys(buckets).forEach((bucket, index) => {\n            // Initialise counts to 0 for this bucket for all dates\n            Object.keys(openIssueCounts).forEach(date => {\n                openIssueCounts[date][bucket] = 0;\n            });\n\n            buckets[bucket].forEach(issue => {\n                let start = Math.max(0, dates.indexOf(dateFormat(issue.githubIssue.created_at, 'yyyy-mm-dd')));\n                let end = issue.githubIssue.closed_at ? dates.indexOf(dateFormat(issue.githubIssue.closed_at, 'yyyy-mm-dd')) : dates.length;\n                for (let n = start; n < end; n++) {\n                    openIssueCounts[dates[n]][bucket] += 1;\n                }\n            });\n            datasets.push({\n                label: `Open ${bucket} issues`,\n                data: dates.map(date => openIssueCounts[date][bucket]),\n                lineTension: 0,\n                backgroundColor: FILL_COLORS[index],\n            });\n        });\n\n        // Count closed issue deltas for entire project\n        issues.forEach(issue => {\n            let { closed_at } = issue.githubIssue;\n            if (!closed_at) {\n                return;\n            }\n            let closedDate = dateFormat(closed_at, 'yyyy-mm-dd');\n            closedIssueDeltas[closedDate] += 1;\n        });\n\n        // Look back up to 2 weeks to compute average rate per day\n        let rateSamplingDays = Math.min(dates.length, 14);\n        let closedIssuesOverSamplingDays = 0;\n        for (let i = dates.length - rateSamplingDays; i < dates.length; i++) {\n            closedIssuesOverSamplingDays += closedIssueDeltas[dates[i]];\n        }\n        let closeRate = closedIssuesOverSamplingDays / rateSamplingDays;\n\n        // Attempt to project a delivery date for each bucket\n        let todaysDate = dates[dates.length - 1];\n        let elapsedDays = dates.length;\n        let previousBucketRemainingDays = 0;\n        let previousBucketFractionalDays = 0;\n        Object.keys(buckets).forEach((bucket, index) => {\n            let todaysIssues = openIssueCounts[todaysDate][bucket];\n            let remainingDays = todaysIssues / closeRate;\n\n            if (todaysIssues > 0 && remainingDays !== Infinity) {\n                // Add additional days to the date axis for the extra days\n                // needed for this bucket.\n                let lastDate = dates[dates.length - 1];\n                let date = new Date(lastDate);\n                for (let i = 0; i < remainingDays + 1; i++) {\n                    dates.push(dateFormat(date, 'yyyy-mm-dd'));\n                    date.setDate(date.getDate() + 1);\n                }\n                let projection = [];\n                for (let i = 0; i < elapsedDays; i++) {\n                    projection.push(null);\n                }\n                // Since the lines are actually stacked, we need to use a\n                // constant value for any days where a previous bucket is being\n                // depleted below this one.\n                for (let i = 0; i < previousBucketRemainingDays; i++) {\n                    projection.push(todaysIssues);\n                }\n                for (let i = previousBucketFractionalDays; i < remainingDays + 1; i++) {\n                    projection.push(todaysIssues - (i * closeRate));\n                }\n                // Store fractional days to the next date to help the next\n                // bucket stack smoothly.\n                previousBucketFractionalDays = Math.ceil(remainingDays) - remainingDays;\n\n                datasets.push({\n                    label: `Projected ${bucket} delivery`,\n                    data: projection,\n                    lineTension: 0,\n                    pointRadius: 0,\n                    borderColor: LINE_COLORS[index],\n                    borderWidth: 2,\n                    backgroundColor: FILL_COLORS[index],\n                });\n            }\n\n            previousBucketRemainingDays += remainingDays;\n        });\n\n        let data = {\n            labels: dates,\n            datasets: datasets\n        };\n        let options = {\n            scales: {\n                yAxes: [{\n                    stacked: true,\n                    ticks: {\n                        min: 0\n                    }\n                }]\n            }\n        };\n\n        return (\n            <div className=\"Burndown raised-box\">\n                <h3>{ this.props.labels.join(' ') }</h3>\n                <Line data={ data } options={ options }/>\n            </div>\n        );\n    }\n\n}\n\nexport default Burndown;\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport { HashRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport queryString from 'query-string';\nimport HashChange from 'react-hashchange';\n\nimport Github from './Github';\nimport Fail from './components/Fail';\nimport Plan from './components/Plan';\nimport Summary from './components/Summary';\nimport Burndown from './components/Burndown';\n\nimport './feature-dashboard.css';\n\nclass App extends Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            query: null,\n            issues: [],\n            repos: [],\n            labels: [],\n            connectionStatus: 'connecting'\n        }\n    }\n\n    async componentDidMount() {\n        /*\n         * FIXME: This _looks_ wrong. Why are we fiddling around parsing the location.hash\n         * when we've got a perfectly good HashRouter to do that for us?\n         */\n        if (window.location.hash.includes(\"?\")) {\n            const query = this.parseQueryFromHash(window.location.hash);\n\n            let token = localStorage.getItem('github_token');\n            let connection = await Github.getConnection(token);\n            this.setState({connectionStatus: connection.status });\n\n            document.title = query.label.join(' ');\n\n            let issues = await Github.getIssues(connection.octokit, query.label, query.repo);\n\n            this.setState({\n                query,\n                labels: query.label,\n                repos: query.repo,\n                issues: issues\n            });\n\n        }\n    }\n\n    get routes() {\n        return [\n            {\n                path: \"/summary\",\n                label: \"Summary\",\n                component: Summary,\n            },\n            {\n                path: \"/plan\",\n                label: \"Plan\",\n                component: Plan,\n            },\n            {\n                path: \"/burndown\",\n                label: \"Burndown\",\n                component: Burndown,\n            },\n        ];\n    }\n\n    pathWithQuery(path) {\n        if (!this.state.query) {\n            return path;\n        }\n        return path + \"?\" + queryString.stringify(this.state.query);\n    }\n\n    parseQueryFromHash(hash) {\n        const query = queryString.parse(hash.substring(hash.indexOf(\"?\")));\n        if (!Array.isArray(query.repo)) {\n            query.repo = [query.repo];\n        }\n        if (!Array.isArray(query.label)) {\n            query.label = [query.label];\n        }\n        return query;\n    }\n\n    onHashChange = ({ hash }) => {\n        const { query: previousQuery } = this.state;\n        // If the query param potions match, we don't need to reload, as this\n        // can be handled by switching components.\n        if (!hash.includes(\"?\") && previousQuery === null) {\n            return;\n        }\n        if (hash.includes(\"?\")) {\n            const query = this.parseQueryFromHash(hash);\n            if (JSON.stringify(previousQuery) === JSON.stringify(query)) {\n                return;\n            }\n        }\n        // Query components differ, so for now we require a reload to update.\n        window.location.reload();\n    }\n\n    render() {\n        return (\n            <div>\n                <HashChange onChange={this.onHashChange} />\n                <Router>\n                    <Switch>\n                        {this.routes.map(({ path, component: Component }) => (\n                            <Route path={path} key={path}\n                                render={props => <Component\n                                    {...props}\n                                    repos={this.state.repos}\n                                    labels={this.state.labels}\n                                    issues={this.state.issues}\n                                    connectionStatus={this.state.connectionStatus}\n                                />}\n                            />\n                        ))}\n                        <Route exact path=\"/\" component= { RedirectLegacy } />\n                        <Route component={ Fail } />\n                    </Switch>\n                    <nav className=\"raised-box\">\n                        {this.routes.map(({ path, label }) => (\n                            <Link key={path} to={this.pathWithQuery(path)}>\n                                {label}\n                            </Link>\n                        ))}\n                    </nav>\n                </Router>\n            </div>\n        );\n    }\n\n}\n\n/* \n * Legacy links to this tool just passed query params to the root:\n *\n * https://host/?repo=example-org/example-repo&...\n *\n * I want to redirect those links to the summary view, but I wasn't able to\n * make ReactRouter execute the redirect without making a mess of the query \n * params:\n *\n * https://host/?repo=... -> https://host/?repo=...#/summary\n *\n * Crucially, after the ReactRouter redirect, the query params were no longer\n * accessible to `this.props.location.search`. So instead we're taking matters\n * into our own hands and wrestling `window.location.replace` directly,\n * preserving the query params in the destination:\n *\n * https://host/?repo=... -> https://host/#/summary?repo=...\n */\nclass RedirectLegacy extends Component {\n\n    render() {\n        window.location.replace(`${window.location.pathname}#/summary${ window.location.search }`);\n        return (\n            <p>Redirecting...</p>\n        );\n    }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\nCopyright 2019 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}